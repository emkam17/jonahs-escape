<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link href="thecss.css" type="text/css" rel="stylesheet" />
    <!-- TODO: slim minify -->
    <script
      src="https://code.jquery.com/jquery-3.5.1.js"
      integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc="
      crossorigin="anonymous">
    </script>
    <script src="escape.js"/></script>
    <!-- TODO: probably put this in escape.js -->
    <script type="text/javascript">
      $(document).ready(function() {
        $("#answer").on('submit', function(e) {
            e.preventDefault();
            $.ajax({
              type: "POST",
              url: "escape.php",
              data: $('#answer').serialize(),
              success: function(d) {
                data = JSON.parse(d);
                if (data["correct"]) {
                  document.getElementById("puzzle").innerHTML = data["next"]
                }
              }
            });
          }
        );
      }
    );
    </script>
    <title>escape room</title>
  </head>

  <body>

    <div id="rightModal" class="modal">
      <div class="modal-content" id="modal-content">
        <div class="right">
          <p>Nice! You got it right.</p>
        </div>
        <div class="next_btn">
          <form id="next">
            <input type="submit" id="right" value="Next" />
          </form>
        </div>
      </div>
    </div>
    
    <!-- <div id="wrongModal" class="modal">
      <div class="modal-content" id="modal-content">
        <span class="close">&times;</span>
        <br>
        <div class="wrong">
          <p>that is wrong.</p>
        </div>
      </div>
    </div> -->
    
    <header>
      <h1>the escape room</h1>
    </header>

    <div class="puzzle" id="puzzle">
      <!-- <h2>Jonah's Escape Plan</h2> -->
      <div class="first">
        <div class="col">
          <h2>Jonah's Escape Plan</h2>
          <p>
          The word of the Lord came to Jonah son of Amittai: <em>“Go to the great city of
          Nineveh and preach against it, because its wickedness has come up before me.” </em>
          But Jonah ran away from the Lord by taking multiple flight transfers, but not
          without planning his trip first. </p>

          <div class="do">
            <p>Find the route that Jonah took in his escape.</p>
          </div>

          <img src="images/puzzle1.jpg" alt="first puzzle" />
        </div>
          <div class="col">
          <!-- <br> -->
          <p> Jonah's Notes: </p>
          <ul>
            <li>
              I'm going to leave from the port of Jaffa (Now part of Tel Aviv)
            </li>
            <li>
              I want to be somewhat discreet, so I think I will try and take a
              good number of flight transfers
            </li>
            <li>
              I've marked all possible destinations and transfer locations on the
              map
            </li>
            <li>I don't want to visit the same place twice (why?)</li>
            <li>I want to visit Asia only once</li>
            <li>
              I want to avoid long flights until absolutely necessary, so with
              exceptions to my last flight, I want all my flights to be within 11
              hours long.
            </li>
            <li>
              My last flight is going to be pretty nasty. It's a ~15 hour flight
              that crosses the Atlantic Ocean.
            </li>
          </ul>
        <!-- </div> -->
     
        <!-- </div>
      </div>
      <div class="row"> -->
        <br>
        <p>
        Give your answer by combining the first letter of each city Jonah visits in
        order. For example, if Jonah visits Hong Kong -&gt; Beijing -&gt; New York
        -&gt; Seoul, the solution would be HKBNYS.
        </p>
      </div>
    <!-- </div> -->


    <div class="flight_num">
      <form id="answer">
        <label>Answer!</label>
        <input type="text" id="answer" name="answer" />
        <input type="hidden" id="puzzle" name="puzzle" value="flight"/>
        <input type="submit" value="submit" />
      </form>
    </div>
  </div>

  </body>
</html>
